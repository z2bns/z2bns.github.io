---
title: æ•°ç»„çš„ç›¸å¯¹æ’åº
date: 2020-11-14 18:46:51
mathjax: true
categories:
- ACM
- LeetCode
tags:
- ç®—æ³•
- ç®€å•
---

**[é¢˜ç›®åœ°å€](https://leetcode-cn.com/problems/relative-sort-array/)**

**éš¾åº¦ï¼š**â­

###### **é¢˜ç›®æè¿°ï¼š**

ç»™ä½ ä¸¤ä¸ªæ•°ç»„ï¼Œarr1 å’Œ arr2ï¼Œ

arr2 ä¸­çš„å…ƒç´ å„ä¸ç›¸åŒ
arr2 ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½å‡ºç°åœ¨ arr1 ä¸­
å¯¹ arr1 ä¸­çš„å…ƒç´ è¿›è¡Œæ’åºï¼Œä½¿ arr1 ä¸­é¡¹çš„ç›¸å¯¹é¡ºåºå’Œ arr2 ä¸­çš„ç›¸å¯¹é¡ºåºç›¸åŒã€‚æœªåœ¨ arr2 ä¸­å‡ºç°è¿‡çš„å…ƒç´ éœ€è¦æŒ‰ç…§å‡åºæ”¾åœ¨ arr1 çš„æœ«å°¾ã€‚

<!-- more -->

**ç¤ºä¾‹ï¼š**

```
è¾“å…¥ï¼šarr1 = [2,3,1,3,2,4,6,7,9,2,19], arr2 = [2,1,4,3,9,6]
è¾“å‡ºï¼š[2,2,2,1,4,3,3,9,6,7,19]
```

**æç¤ºï¼š**

- `arr1.length, arr2.length <= 1000`
- `0 <= arr1[i], arr2[i] <= 1000`
- `arr2` ä¸­çš„å…ƒç´  `arr2[i]` å„ä¸ç›¸åŒ
- `arr2` ä¸­çš„æ¯ä¸ªå…ƒç´  `arr2[i]` éƒ½å‡ºç°åœ¨ `arr1` ä¸­



<center>ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸è§£é¢˜è¿‡ç¨‹ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸</center>

###### è§£é¢˜è¿‡ç¨‹ï¼š

**æ€è·¯ï¼š**

éå†æ•°ç»„arr2ï¼Œå¯¹æ¯ä¸€ä¸ªå…ƒç´ åœ¨æ•°ç»„arr1ä¸­æŸ¥æ‰¾ï¼Œè‹¥æ‰¾åˆ°åˆ™æ·»åŠ åˆ°ç»“æœä¸­å¹¶ä»arr1ä¸­åˆ é™¤ã€‚æœ€åarr1ä¸­éƒ½æ˜¯ä¸åœ¨arr2ä¸­çš„å…ƒç´ ï¼Œå‡åºæ”¾åœ¨ç»“æœçš„æœ«å°¾ã€‚

**c++ä»£ç ï¼š**(æ‰§è¡Œç”¨æ—¶12msï¼Œå‡»è´¥22.04%ï¼Œå†…å­˜æ¶ˆè€—8Mï¼Œå‡»è´¥9.72%ï¼‰

```c++
class Solution {
public:
    vector<int> relativeSortArray(vector<int>& arr1, vector<int>& arr2) {
        vector<int> result;
        //éå†arr2ä¸­çš„å…ƒç´ 
        for(int i=0;i<arr2.size();++i){
            //åœ¨arr1ä¸­æŸ¥æ‰¾è¯¥å…ƒç´ 
            vector<int>::iterator it;
            while((it=find(arr1.begin(),arr1.end(),arr2[i]))!=arr1.end()){
                result.push_back(arr2[i]);
                //åˆ é™¤arr1ä¸­è¯¥å…ƒç´ ï¼Œç»§ç»­æŸ¥æ‰¾
                arr1.erase(it);
            }
        }
        //ç°åœ¨arr1ä¸­éƒ½æ˜¯æœªåœ¨arr2ä¸­å‡ºç°è¿‡çš„å…ƒç´ 
        //å‡åºæ’åº
        sort(arr1.begin(),arr1.end());
        //æ”¾åœ¨æœ€å
        result.insert(result.end(),arr1.begin(),arr1.end());
        return result;
    }
};
```



<center>ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’å®˜ æ–¹ é¢˜ è§£ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’</center>

###### [å®˜æ–¹é¢˜è§£](https://leetcode-cn.com/problems/relative-sort-array/solution/shu-zu-de-xiang-dui-pai-xu-by-leetcode-solution/):

**æ–¹æ³•ä¸€ï¼šè‡ªå®šä¹‰æ’åº**

ä¸€ç§å®¹æ˜“æƒ³åˆ°çš„æ–¹æ³•æ˜¯ä½¿ç”¨æ’åºå¹¶è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°ã€‚

ç”±äºæ•°ç»„ $\textit{arr}_2$  è§„å®šäº†æ¯”è¾ƒé¡ºåºï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å“ˆå¸Œè¡¨å¯¹è¯¥é¡ºåºè¿›è¡Œæ˜ å°„ï¼šå³å¯¹äºæ•°ç»„ $\textit{arr}_2$ ä¸­çš„ç¬¬ $i$ ä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬å°† $(\textit{arr}_2[i], i)$ è¿™ä¸€é”®å€¼å¯¹æ”¾å…¥å“ˆå¸Œè¡¨ $\textit{rank}$ä¸­ï¼Œå°±å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å¯¹æ•°ç»„ $\textit{arr}_1$ä¸­çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒã€‚

æ¯”è¾ƒå‡½æ•°çš„å†™æ³•æœ‰å¾ˆå¤šç§ï¼Œä¾‹å¦‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æœ€åŸºç¡€çš„æ¯”è¾ƒæ–¹æ³•ï¼Œå¯¹äºå…ƒç´  $x$ å’Œ$y$ï¼š

- å¦‚æœ $x$ å’Œ $y$ éƒ½å‡ºç°åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œé‚£ä¹ˆæ¯”è¾ƒå®ƒä»¬å¯¹åº”çš„å€¼ $\textit{rank}[x]$å’Œ $\textit{rank}[y]$ï¼›
- å¦‚æœ $x$ å’Œ $y$ éƒ½æ²¡æœ‰å‡ºç°åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œé‚£ä¹ˆæ¯”è¾ƒå®ƒä»¬æœ¬èº«ï¼›
- å¯¹äºå‰©ä½™çš„æƒ…å†µï¼Œå‡ºç°åœ¨å“ˆå¸Œè¡¨ä¸­çš„é‚£ä¸ªå…ƒç´ è¾ƒå°ã€‚

**c++ä»£ç ï¼š**(æ‰§è¡Œç”¨æ—¶8msï¼Œå‡»è´¥56.78%ï¼Œå†…å­˜æ¶ˆè€—8Mï¼Œå‡»è´¥9.16%ï¼‰

```c++
class Solution {
public:
    vector<int> relativeSortArray(vector<int>& arr1, vector<int>& arr2) {
        unordered_map<int, int> rank;
        for (int i = 0; i < arr2.size(); ++i) {
            rank[arr2[i]] = i;
        }
        sort(arr1.begin(), arr1.end(), [&](int x, int y) {
            if (rank.count(x)) {
                return rank.count(y) ? rank[x] < rank[y] : true;
            }
            else {
                return rank.count(y) ? false : x < y;
            }
        });
        return arr1;
    }
};
```

å¾ˆå¤šè¯­è¨€æ”¯æŒå¯¹ã€Œå…ƒç»„ã€è¿›è¡Œæ’åºï¼Œå³ä¾æ¬¡æ¯”è¾ƒå…ƒç»„ä¸­æ¯ä¸€ä¸ªå¯¹åº”ä½ç½®çš„å…ƒç´ ï¼Œç›´åˆ°æ¯”è¾ƒå‡ºå¤§å°å…³ç³»ä¸ºæ­¢ã€‚å› æ­¤ï¼Œå¯¹äºå…ƒç´  $x$ï¼Œå¦‚æœå®ƒå‡ºç°åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äºŒå…ƒç»„ $(0, \textit{rank}[x])$ï¼›å¦‚æœå®ƒæ²¡æœ‰å‡ºç°åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äºŒå…ƒç»„ $(1, x)$ï¼Œå°±å¯ä»¥å¾—åˆ°æ­£ç¡®çš„æ’åºç»“æœã€‚

```c++
class Solution {
public:
    vector<int> relativeSortArray(vector<int>& arr1, vector<int>& arr2) {
        unordered_map<int, int> rank;
        for (int i = 0; i < arr2.size(); ++i) {
            rank[arr2[i]] = i;
        }
        auto mycmp = [&](int x) -> pair<int, int> {
            return rank.count(x) ? pair{0, rank[x]} : pair{1, x};
        };
        sort(arr1.begin(), arr1.end(), [&](int x, int y) {
            return mycmp(x) < mycmp(y);
        });
        return arr1;
    }
};
```

æ­¤å¤–ï¼Œç”±äºé¢˜ç›®ä¸­ç»™å®šçš„å…ƒç´ éƒ½æ˜¯æ­£æ•°ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç”¨ $\textit{rank}[x]-n$ å’Œ $x$åˆ†åˆ«ä»£æ›¿ $(0, \textit{rank}[x])$ å’Œ $(1, x)$ï¼Œå…¶ä¸­ $n$ æ˜¯æ•°ç»„ $\textit{arr}_2$çš„é•¿åº¦ï¼ˆåŒæ—¶ä¹Ÿæ˜¯å“ˆå¸Œè¡¨ $\textit{rank}$ çš„å¤§å°ï¼‰ã€‚è¿™æ ·åšçš„æ­£ç¡®æ€§åœ¨äºï¼Œ$\textit{rank}[x]-n$ä¸€å®šæ˜¯è´Ÿæ•°ï¼Œè€Œ $x$ ä¸€å®šæ˜¯æ­£æ•°ã€‚

```c++
class Solution {
public:
    vector<int> relativeSortArray(vector<int>& arr1, vector<int>& arr2) {
        unordered_map<int, int> rank;
        int n = arr2.size();
        for (int i = 0; i < n; ++i) {
            rank[arr2[i]] = i - n;
        }
        sort(arr1.begin(), arr1.end(), [&](int x, int y) {
            return (rank.count(x) ? rank[x] : x) < (rank.count(y) ? rank[y] : y);
        });
        return arr1;
    }
};
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼š$O(m \log m + n)$ï¼Œå…¶ä¸­ $m$ å’Œ $n$ åˆ†åˆ«æ˜¯æ•°ç»„ $\textit{arr}_1$ å’Œ $\textit{arr}_2$ çš„é•¿åº¦ã€‚æ„é€ å“ˆå¸Œè¡¨ $\textit{rank}$ çš„æ—¶é—´å¤æ‚åº¦ä¸º $O(n)$ï¼Œæ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸º $O(m \log m)$ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼š$O(\log m + n)$ï¼Œå“ˆå¸Œè¡¨ $\textit{rank}$éœ€è¦çš„ç©ºé—´ä¸º $O(n)$ï¼Œæ’åºéœ€è¦çš„æ ˆç©ºé—´ä¸º $O(\log m)$


**æ–¹æ³•äºŒï¼šè®¡æ•°æ’åº**

**æ€è·¯ä¸ç®—æ³•**

æ³¨æ„åˆ°æœ¬é¢˜ä¸­å…ƒç´ çš„èŒƒå›´ä¸º $[0, 1000]$ï¼Œè¿™ä¸ªèŒƒå›´ä¸æ˜¯å¾ˆå¤§ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è€ƒè™‘ä¸åŸºäºæ¯”è¾ƒçš„æ’åºï¼Œä¾‹å¦‚ã€Œè®¡æ•°æ’åºã€ã€‚

å…·ä½“åœ°ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªé•¿åº¦ä¸º $1001$ï¼ˆä¸‹æ ‡ä» $0$ åˆ° $1000$ï¼‰çš„æ•°ç»„ $\textit{frequency}$ï¼Œè®°å½•æ¯ä¸€ä¸ªå…ƒç´ åœ¨æ•°ç»„  ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚éšåæˆ‘ä»¬éå†æ•°ç»„ $\textit{arr}_2$ ï¼Œå½“éå†åˆ°å…ƒç´  $x$ æ—¶ï¼Œæˆ‘ä»¬å°† $\textit{frequency}[x]$ä¸ª $x$ åŠ å…¥ç­”æ¡ˆä¸­ï¼Œå¹¶å°† $\textit{frequency}[x]$æ¸…é›¶ã€‚å½“éå†ç»“æŸåï¼Œæ‰€æœ‰åœ¨ $\textit{arr}_2$ä¸­å‡ºç°è¿‡çš„å…ƒç´ å°±å·²ç»æœ‰åºäº†ã€‚

æ­¤æ—¶è¿˜å‰©ä¸‹æ²¡æœ‰åœ¨ $\textit{arr}_2$ä¸­å‡ºç°è¿‡çš„å…ƒç´ ï¼Œå› æ­¤æˆ‘ä»¬è¿˜éœ€è¦å¯¹æ•´ä¸ªæ•°ç»„ $\textit{frequency}$è¿›è¡Œä¸€æ¬¡éå†ã€‚å½“éå†åˆ°å…ƒç´  $x$æ—¶ï¼Œå¦‚æœ $\textit{frequency}[x]$ä¸ä¸º 00ï¼Œæˆ‘ä»¬å°±å°† $\textit{frequency}[x]$ä¸ª $x$åŠ å…¥ç­”æ¡ˆä¸­ã€‚

**ç»†èŠ‚**

æˆ‘ä»¬å¯ä»¥å¯¹ç©ºé—´å¤æ‚åº¦è¿›è¡Œä¸€ä¸ªå°ä¼˜åŒ–ã€‚å®é™…ä¸Šï¼Œæˆ‘ä»¬ä¸éœ€è¦ä½¿ç”¨é•¿åº¦ä¸º $1001$ çš„æ•°ç»„ï¼Œè€Œæ˜¯å¯ä»¥æ‰¾å‡ºæ•°ç»„ $\textit{arr}_1$ ä¸­çš„æœ€å¤§å€¼ $\textit{upper}$ï¼Œä½¿ç”¨é•¿åº¦ä¸º $\textit{upper}+1$ çš„æ•°ç»„å³å¯ã€‚

**c++ä»£ç ï¼š**(æ‰§è¡Œç”¨æ—¶0msï¼Œå‡»è´¥100.00%ï¼Œå†…å­˜æ¶ˆè€—7.7Mï¼Œå‡»è´¥51.63%ï¼‰

```c++
class Solution {
public:
    vector<int> relativeSortArray(vector<int>& arr1, vector<int>& arr2) {
        int upper = *max_element(arr1.begin(), arr1.end());
        vector<int> frequency(upper + 1);
        for (int x: arr1) {
            ++frequency[x];
        }
        vector<int> ans;
        for (int x: arr2) {
            for (int i = 0; i < frequency[x]; ++i) {
                ans.push_back(x);
            }
            frequency[x] = 0;
        }
        for (int x = 0; x <= upper; ++x) {
            for (int i = 0; i < frequency[x]; ++i) {
                ans.push_back(x);
            }
        }
        return ans;
    }
};
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼š$O(m + n + \textit{upper})$ï¼Œå…¶ä¸­ $m$ å’Œ $n$ åˆ†åˆ«æ˜¯æ•°ç»„ $\textit{arr}_1$ å’Œ $\textit{arr}_2$ çš„é•¿åº¦ï¼Œ$\textit{upper}$æ˜¯æ•°ç»„ $\textit{arr}_1$
  ä¸­çš„æœ€å¤§å€¼ï¼Œåœ¨æœ¬é¢˜ä¸­ $\textit{upper}$ä¸ä¼šè¶…è¿‡ $1000$ã€‚éå†æ•°ç»„ $\textit{arr}_2$ çš„æ—¶é—´å¤æ‚åº¦ä¸º $O(n)$ï¼Œéå†æ•°ç»„ $\textit{frequency}$çš„æ—¶é—´å¤æ‚åº¦ä¸º $O(\textit{upper})$ï¼Œè€Œåœ¨éå†çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¸€å…±éœ€è¦ $O(m)$ çš„æ—¶é—´å¾—åˆ°ç­”æ¡ˆæ•°ç»„ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼š$O(\textit{upper})$ï¼Œå³ä¸ºæ•°ç»„ $\textit{frequency}$ éœ€è¦ä½¿ç”¨çš„ç©ºé—´ã€‚æ³¨æ„åˆ°ä¸æ–¹æ³•ä¸€ä¸åŒçš„æ˜¯ï¼Œæ–¹æ³•äºŒçš„ä»£ç ä½¿ç”¨äº†é¢å¤–çš„ç©ºé—´ï¼ˆè€Œä¸æ˜¯ç›´æ¥è¦†ç›–æ•°ç»„ $\textit{arr}_1$ ï¼‰å­˜æ”¾ç­”æ¡ˆï¼Œä½†æˆ‘ä»¬ä¸€èˆ¬ä¸å°†å­˜å‚¨è¿”å›ç­”æ¡ˆçš„æ•°ç»„è®¡å…¥ç©ºé—´å¤æ‚åº¦ï¼Œå¹¶ä¸”åœ¨æˆ‘ä»¬å¾—åˆ°æ•°ç»„ $\textit{frequency}$ä¹‹åï¼Œå®é™…ä¸Šä¹Ÿæ˜¯å¯ä»¥å°†è¿”å›ç­”æ¡ˆè¦†ç›–åœ¨æ•°ç»„ $\textit{arr}_1$ ä¸Šçš„ã€‚å¦‚æœåœ¨é¢è¯•ä¸­é‡åˆ°äº†æœ¬é¢˜ï¼Œè¿™äº›ç»†èŠ‚éƒ½å¯ä»¥å’Œé¢è¯•å®˜è¿›è¡Œç¡®è®¤ã€‚




<center>â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³æ€» ç»“â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³</center>

###### æ€»ç»“ï¼š

è‡ªå®šä¹‰æ’åºå®¹æ˜“æƒ³åˆ°å—ï¼Ÿè¿˜æ˜¯æš´åŠ›è§£æ³•æ¯”è¾ƒé¦™ğŸ˜ã€‚å¯ä»¥å­¦ä¹ è‡ªå®šä¹‰æ’åºçš„æ€æƒ³ï¼Œè®¡æ•°æ’åºä¹Ÿé‡åˆ°è¿‡å¥½å¤šæ¬¡äº†ï¼Œä¹Ÿæ˜¯å¸¸ç”¨çš„è§£é¢˜æ–¹æ³•ã€‚

