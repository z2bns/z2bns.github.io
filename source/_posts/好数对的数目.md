---
title: å¥½æ•°å¯¹çš„æ•°ç›®
date: 2020-11-06 15:10:45
mathjax: true
categories:
- ACM
- LeetCode
tags:
- ç®—æ³•
- ç®€å•
---

**[é¢˜ç›®åœ°å€](https://leetcode-cn.com/problems/number-of-good-pairs/)**

**éš¾åº¦ï¼š**â­

###### **é¢˜ç›®æè¿°ï¼š**

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ã€‚

å¦‚æœä¸€ç»„æ•°å­— `(i,j)` æ»¡è¶³ `nums[i]` == `nums[j]` ä¸” `i` < `j` ï¼Œå°±å¯ä»¥è®¤ä¸ºè¿™æ˜¯ä¸€ç»„ **å¥½æ•°å¯¹** ã€‚

è¿”å›å¥½æ•°å¯¹çš„æ•°ç›®ã€‚

<!-- more -->

**ç¤ºä¾‹1ï¼š**

```
è¾“å…¥ï¼šnums = [1,2,3,1,1,3]
è¾“å‡ºï¼š4
è§£é‡Šï¼šæœ‰ 4 ç»„å¥½æ•°å¯¹ï¼Œåˆ†åˆ«æ˜¯ (0,3), (0,4), (3,4), (2,5) ï¼Œä¸‹æ ‡ä» 0 å¼€å§‹
```

**ç¤ºä¾‹2ï¼š**

```
è¾“å…¥ï¼šnums = [1,1,1,1]
è¾“å‡ºï¼š6
è§£é‡Šï¼šæ•°ç»„ä¸­çš„æ¯ç»„æ•°å­—éƒ½æ˜¯å¥½æ•°å¯¹
```

**ç¤ºä¾‹3ï¼š**

```
è¾“å…¥ï¼šnums = [1,2,3]
è¾“å‡ºï¼š0
```

**é™åˆ¶ï¼š**

- `1 <= nums.length <= 100`
- `1 <= nums[i] <= 100`



<center>ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸è§£é¢˜è¿‡ç¨‹ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸</center>

###### è§£é¢˜è¿‡ç¨‹ï¼š

**æ€è·¯ï¼š**

åŒforå¾ªç¯éå†

**c++ä»£ç ï¼š**(æ‰§è¡Œç”¨æ—¶4msï¼Œå‡»è´¥48.99%ï¼Œå†…å­˜æ¶ˆè€—7.5Mï¼Œå‡»è´¥8.81%ï¼‰

```c++
class Solution {
public:
    int numIdenticalPairs(vector<int>& nums) {
        int result=0;
        for(int i=0;i<nums.size();++i){
            for(int j=i+1;j<nums.size();++j){
                if(nums[i]==nums[j]){
                    //ä¸‹é¢è¿™è¡Œæ”¹æˆ++result;æ‰§è¡Œç”¨æ—¶ä¸º0ï¼Œå‡»è´¥100%ï¼Œä¼˜ç§€
                    result+=1;
                }
            }
        }
        return result;
    }
};
```



<center>ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’å®˜ æ–¹ é¢˜ è§£ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’</center>

###### [å®˜æ–¹é¢˜è§£ï¼š](https://leetcode-cn.com/problems/number-of-good-pairs/solution/hao-shu-dui-de-shu-mu-by-leetcode-solution/)

**æ–¹æ³•ä¸€ï¼šæš´åŠ›ç»Ÿè®¡**
**æ€è·¯ä¸ç®—æ³•**

å¯¹äºæ¯ä¸ª$a_i$,æšä¸¾æ‰€æœ‰çš„$a_j(j>i)$ï¼Œæ£€æŸ¥æ˜¯å¦æ»¡è¶³$a_i=a_j$ï¼Œå¦‚æœæ˜¯å°±è®¡å…¥ç­”æ¡ˆã€‚

**ä»£ç ï¼š**ï¼ˆæ‰§è¡Œ0msï¼Œå‡»è´¥100%ï¼Œå†…å­˜7.6Mï¼Œå‡»è´¥5.05%ï¼‰

```c++
class Solution {
public:
    int numIdenticalPairs(vector<int>& nums) {
        int ans = 0;
        for (int i = 0; i < nums.size(); ++i) {
            for (int j = i + 1; j < nums.size(); ++j) {
                if (nums[i] == nums[j]) {
                    ++ans;
                }
            }
        }
        return ans;
    }
};
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼š$O(n^2)$ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$ã€‚

**æ–¹æ³•äºŒï¼šç»„åˆè®¡æ•°**
**æ€è·¯ä¸ç®—æ³•**

ç”¨å“ˆå¸Œè¡¨ç»Ÿè®¡æ¯ä¸ªæ•°åœ¨åºåˆ—ä¸­å‡ºç°çš„æ¬¡æ•°ï¼Œå‡è®¾æ•°å­— $k$ åœ¨åºåˆ—ä¸­å‡ºç°çš„æ¬¡æ•°ä¸º $v$ï¼Œé‚£ä¹ˆæ»¡è¶³é¢˜ç›®ä¸­æ‰€è¯´çš„ $nums[i]=nums[j]=k(i<j)$ çš„ $(i,j)$ çš„æ•°é‡å°±æ˜¯$\frac{v(v - 1)}{2} $ï¼Œå³$ k$ è¿™ä¸ªæ•°å€¼å¯¹ç­”æ¡ˆçš„è´¡çŒ®æ˜¯ $\frac{v(v - 1)}{2}$ ã€‚æˆ‘ä»¬åªéœ€è¦æŠŠæ‰€æœ‰æ•°å€¼çš„è´¡çŒ®ç›¸åŠ ï¼Œå³å¯å¾—åˆ°ç­”æ¡ˆã€‚

**ä»£ç **ï¼šï¼ˆæ‰§è¡Œ0msï¼Œå‡»è´¥100%ï¼Œå†…å­˜7.6Mï¼Œå‡»è´¥5.05%ï¼‰

```c++
class Solution {
public:
    int numIdenticalPairs(vector<int>& nums) {
        unordered_map <int, int> m;
        for (int num: nums) {
            ++m[num];
        }
        int ans = 0;
        for (const auto &[k, v]: m) {
            ans += v * (v - 1) / 2;
        }
        return ans;
    }
};
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$ï¼Œå³å“ˆå¸Œè¡¨ä½¿ç”¨åˆ°çš„è¾…åŠ©ç©ºé—´çš„ç©ºé—´ä»£ä»·ã€‚

<center>â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³æ€» ç»“â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³</center>

###### æ€»ç»“ï¼š

æˆ‘ç”¨çš„æ˜¯ç¬¬ä¸€ç§æš´åŠ›ç»Ÿè®¡æ–¹æ³•ï¼Œä¸è¿‡å˜é‡å€¼åŠ 1çš„å†™æ³•æ•ˆç‡è¿˜ä¸åŒï¼Œ++ans;è¦ä¼˜äºans+=1;ğŸ˜‘

