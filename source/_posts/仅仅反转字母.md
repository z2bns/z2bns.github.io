---
title: ä»…ä»…åè½¬å­—æ¯
date: 2021-03-16 13:14:36
mathjax: true
categories:
- ACM
- LeetCode
tags:
- ç®—æ³•
- ç®€å•
- å­—ç¬¦ä¸²
---

[**é¢˜ç›®åœ°å€**](https://leetcode-cn.com/problems/reverse-only-letters/)

**éš¾åº¦ï¼š**â­

###### **é¢˜ç›®æè¿°ï¼š**

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² `S`ï¼Œè¿”å› â€œåè½¬åçš„â€ å­—ç¬¦ä¸²ï¼Œå…¶ä¸­ä¸æ˜¯å­—æ¯çš„å­—ç¬¦éƒ½ä¿ç•™åœ¨åŸåœ°ï¼Œè€Œæ‰€æœ‰å­—æ¯çš„ä½ç½®å‘ç”Ÿåè½¬ã€‚

<!-- more -->

**ç¤ºä¾‹1ï¼š**

```
è¾“å…¥ï¼š"ab-cd"
è¾“å‡ºï¼š"dc-ba"
```

**ç¤ºä¾‹2ï¼š**

```
è¾“å…¥ï¼š"a-bC-dEf-ghIj"
è¾“å‡ºï¼š"j-Ih-gfE-dCba"
```

**ç¤ºä¾‹3ï¼š**

```
è¾“å…¥ï¼š"Test1ng-Leet=code-Q!"
è¾“å‡ºï¼š"Qedo1ct-eeLg=ntse-T!"
```

**æç¤ºï¼š**

1. `S.length <= 100`
2. `33 <= S[i].ASCIIcode <= 122` 
3. `S` ä¸­ä¸åŒ…å« `\` or `"`



<center>ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸è§£é¢˜è¿‡ç¨‹ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™‚ï¸</center>

###### è§£é¢˜è¿‡ç¨‹ï¼š

**æ€è·¯ï¼š**åŒæŒ‡é’ˆæ³•ï¼Œç´¢å¼•`i`ä»å‰å‘åæŸ¥æ‰¾å­—æ¯ï¼Œç´¢å¼•`j`ä»åå‘å‰æŸ¥æ‰¾å­—æ¯ï¼Œç„¶åä½¿ç”¨swapäº¤æ¢å‰åä¸¤ä¸ªå­—æ¯ã€‚

**c++ä»£ç ï¼š**(æ‰§è¡Œç”¨æ—¶4msï¼Œå‡»è´¥34.86%ï¼Œå†…å­˜æ¶ˆè€—5.9Mï¼Œå‡»è´¥89.58%ï¼‰

```c++
class Solution {
public:
    string reverseOnlyLetters(string S) {
        int tmp1=0;
        int tmp2=0;
        int j=S.length()-1;
        for(int i=0;i<j;){
            tmp1=S[i];
            tmp2=S[j];
            if(tmp1>64&&tmp1<91 || tmp1>96&&tmp1<123){
                if(tmp2>64&&tmp2<91 || tmp2>96&&tmp2<123){
                    swap(S[i],S[j]);
                    i++;
                    j--;
                }else{
                    j--;
                }
            }else{
                i++;
            }
        }
        return S;
    }
};
```





<center>ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’å®˜ æ–¹ é¢˜ è§£ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’</center>

###### [å®˜æ–¹é¢˜è§£](https://leetcode-cn.com/problems/reverse-only-letters/solution/jin-jin-fan-zhuan-zi-mu-by-leetcode/):

**æ–¹æ³•ä¸€ï¼šå­—æ¯æ ˆ**

**æƒ³æ³•å’Œç®—æ³•**

å°† `s` ä¸­çš„æ‰€æœ‰å­—æ¯å•ç‹¬å­˜å…¥æ ˆä¸­ï¼Œæ‰€ä»¥å‡ºæ ˆç­‰ä»·äºå¯¹å­—æ¯ååºæ“ä½œã€‚ï¼ˆæˆ–è€…ï¼Œå¯ä»¥ç”¨æ•°ç»„å­˜å‚¨å­—æ¯å¹¶ååºæ•°ç»„ã€‚ï¼‰

ç„¶åï¼Œéå† `s` çš„æ‰€æœ‰å­—ç¬¦ï¼Œå¦‚æœæ˜¯å­—æ¯æˆ‘ä»¬å°±é€‰æ‹©æ ˆé¡¶å…ƒç´ è¾“å‡ºã€‚

```java
class Solution {
    public String reverseOnlyLetters(String S) {
        Stack<Character> letters = new Stack();
        for (char c: S.toCharArray())
            if (Character.isLetter(c))
                letters.push(c);

        StringBuilder ans = new StringBuilder();
        for (char c: S.toCharArray()) {
            if (Character.isLetter(c))
                ans.append(letters.pop());
            else
                ans.append(c);
        }

        return ans.toString();
    }
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼š$O(N)$ï¼Œå…¶ä¸­ $N$ æ˜¯ `S` çš„é•¿åº¦ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼š$O(N)$ã€‚



**æ–¹æ³• 2ï¼šåè½¬æŒ‡é’ˆ**

**æƒ³æ³•**

ä¸€ä¸ªæ¥ä¸€ä¸ªè¾“å‡º `s` çš„æ‰€æœ‰å­—ç¬¦ã€‚å½“é‡åˆ°ä¸€ä¸ªå­—æ¯æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›æ‰¾åˆ°é€†åºéå†å­—ç¬¦ä¸²çš„ä¸‹ä¸€ä¸ªå­—æ¯ã€‚

æ‰€ä»¥æˆ‘ä»¬è¿™ä¹ˆåšï¼šç»´æŠ¤ä¸€ä¸ªæŒ‡é’ˆ `j` ä»åå¾€å‰éå†å­—ç¬¦ä¸²ï¼Œå½“éœ€è¦å­—æ¯æ—¶å°±ä½¿ç”¨å®ƒã€‚

```java
class Solution {
    public String reverseOnlyLetters(String S) {
        StringBuilder ans = new StringBuilder();
        int j = S.length() - 1;
        for (int i = 0; i < S.length(); ++i) {
            if (Character.isLetter(S.charAt(i))) {
                while (!Character.isLetter(S.charAt(j)))
                    j--;
                ans.append(S.charAt(j--));
            } else {
                ans.append(S.charAt(i));
            }
        }

        return ans.toString();
    }
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼šO(N)ï¼Œå…¶ä¸­ N æ˜¯ `S` çš„é•¿åº¦ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼šO(N)ã€‚



<center>â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³æ€» ç»“â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³</center>

###### æ€»ç»“ï¼š

å—¯ï¼Œå­—æ¯æ ˆæ–¹æ³•ä¹ŸæŒºå¥½çš„ğŸ˜®ã€‚